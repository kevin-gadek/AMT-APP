/*
 * JS for Welcome generated by Appery.io
 */

Apperyio.getProjectGUID = function() {
    return '7620cc77-d422-41fb-b193-1642dec1ee05';
};

function navigateTo(outcome, useAjax) {
    Apperyio.navigateTo(outcome, useAjax);
}

function adjustContentHeight() {
    Apperyio.adjustContentHeightWithPadding();
}

function adjustContentHeightWithPadding(_page) {
    Apperyio.adjustContentHeightWithPadding(_page);
}

function setDetailContent(pageUrl) {
    Apperyio.setDetailContent(pageUrl);
}

Apperyio.AppPages = [{
    "name": "Login",
    "location": "Login.html"
}, {
    "name": "Details",
    "location": "Details.html"
}, {
    "name": "Welcome",
    "location": "Welcome.html"
}];

function Welcome_js() {

    /* Object & array with components "name-to-id" mapping */
    var n2id_buf = {
        'mobilebutton_36': 'Welcome_mobilebutton_36',
        'collapsibleset': 'Welcome_collapsibleset',
        'additem_block': 'Welcome_additem_block',
        'addItemButton': 'Welcome_addItemButton',
        'mobilecollapsblockcontent_50': 'Welcome_mobilecollapsblockcontent_50',
        'additem_itemname': 'Welcome_additem_itemname',
        'additem_datebought': 'Welcome_additem_datebought',
        'additem_currentlocation': 'Welcome_additem_currentlocation',
        'additem_notes': 'Welcome_additem_notes',
        'file_input': 'Welcome_file_input',
        'additem_categoryselectmenu': 'Welcome_additem_categoryselectmenu',
        'additem_categoryselectmenu-0': 'Welcome_additem_categoryselectmenu-0',
        'additem_button': 'Welcome_additem_button',
        'list_by_category_block': 'Welcome_list_by_category_block',
        'list_by_category_header': 'Welcome_list_by_category_header',
        'list_by_category_content': 'Welcome_list_by_category_content',
        'list_by_category_select_menu': 'Welcome_list_by_category_select_menu',
        'list_by_category_select_menu-0': 'Welcome_list_by_category_select_menu-0',
        'list_by_category_button': 'Welcome_list_by_category_button',
        'list_by_category_buttonlist': 'Welcome_list_by_category_buttonlist',
        'list_by_category_list_button': 'Welcome_list_by_category_list_button',
        'mobilelistitembutton_168': 'Welcome_mobilelistitembutton_168',
        'add_category_block': 'Welcome_add_category_block',
        'mobilecollapsblockheader_98': 'Welcome_mobilecollapsblockheader_98',
        'mobilecollapsblockcontent_99': 'Welcome_mobilecollapsblockcontent_99',
        'addcategory_input': 'Welcome_addcategory_input',
        'addcategorybutton': 'Welcome_addcategorybutton',
        'export_inv_button': 'Welcome_export_inv_button',
        'navbar_exportinv_button': 'Welcome_navbar_exportinv_button',
        'navbar_trash_button': 'Welcome_navbar_trash_button',
        'mobilebutton_180': 'Welcome_mobilebutton_180',
        'delete_history_list': 'Welcome_delete_history_list',
        'delete_history_item': 'Welcome_delete_history_item',
        'delete_history_item_button': 'Welcome_delete_history_item_button',
        'restore_item_confirmation': 'Welcome_restore_item_confirmation',
        'mobilebutton_170': 'Welcome_mobilebutton_170',
        'mobilelabel_172': 'Welcome_mobilelabel_172',
        'about_us_button': 'Welcome_about_us_button',
        'log_out_button': 'Welcome_log_out_button'
    };

    if ("n2id" in window && window.n2id !== undefined) {
        $.extend(n2id, n2id_buf);
    } else {
        window.n2id = n2id_buf;
    }

    /*
     * Nonvisual components
     */

    Apperyio.mappings = Apperyio.mappings || {};

    Apperyio.mappings["Welcome_additem_button_onclick_mapping_1"] = {
        "homeScreen": "Welcome",
        "directions": [

        {
            "from_name": "Welcome",
            "from_type": "UI",

            "to_name": "item",
            "to_type": "LOCAL_STORAGE",

            "mappings": [

            {

                "source": "$['additem_itemname:text']",
                "target": "$['name']"

            },

            {

                "source": "$['additem_datebought:text']",
                "target": "$['date_bought']"

            },

            {

                "source": "$['additem_currentlocation:text']",
                "target": "$['location']"

            },

            {

                "source": "$['additem_notes:text']",
                "target": "$['notes']"

            },

            {

                "source": "$['additem_categoryselectmenu:selectedMenuItem']",
                "target": "$['category']"

            }

            ]
        }

        ]
    };

    Apperyio.mappings["Welcome_trash_panel_onpanelopen_mapping_0"] = {
        "homeScreen": "Welcome",
        "directions": [

        {
            "from_name": "deleted_items",
            "from_type": "LOCAL_STORAGE",

            "to_name": "Welcome",
            "to_type": "UI",

            "mappings": [

            {

                "source": "$[0]['name']",
                "target": "$['delete_history_item:text']"

            }

            ]
        }

        ]
    };

    Apperyio.mappings["Welcome_camera_shot_onsuccess_mapping_0"] = {
        "homeScreen": "Welcome",
        "directions": []
    };

    Apperyio.mappings["Welcome_camera_shot_onbeforesend_mapping_0"] = {
        "homeScreen": "Welcome",
        "directions": [

        {

            "to_name": "camera_shot",
            "to_type": "SERVICE_REQUEST",

            "to_default": {
                "data": {
                    "quality": 80,
                    "destinationType": "Data URL",
                    "sourceType": "Camera",
                    "allowEdit": true,
                    "encodingType": "JPEG",
                    "targetWidth": 1024,
                    "targetHeight": 768
                }
            },

            "mappings": []
        }

        ]
    };

    Apperyio.mappings["Welcome_log_out_onsuccess_mapping_0"] = {
        "homeScreen": "Welcome",
        "directions": []
    };

    Apperyio.mappings["Welcome_log_out_onbeforesend_mapping_0"] = {
        "homeScreen": "Welcome",
        "directions": [

        {
            "from_name": "user_session_token",
            "from_type": "LOCAL_STORAGE",

            "to_name": "log_out",
            "to_type": "SERVICE_REQUEST",

            "to_default": {
                "headers": {
                    "X-Appery-Database-Id": "{database_id}"
                },
                "parameters": {},
                "body": null
            },

            "mappings": [

            {

                "source": "$",
                "target": "$['headers']['X-Appery-Session-Token']"

            }

            ]
        }

        ]
    };

    Apperyio.mappings["Welcome_uploadService_onsuccess_mapping_0"] = {
        "homeScreen": "Welcome",
        "directions": [

        {
            "from_name": "uploadService",
            "from_type": "SERVICE_RESPONSE",

            "to_name": "tempPhotoName",
            "to_type": "LOCAL_STORAGE",

            "mappings": [

            {

                "source": "$['body'][0]['success']['filename']",
                "target": "$"

            }

            ]
        }

        ]
    };

    Apperyio.mappings["Welcome_uploadService_onbeforesend_mapping_0"] = {
        "homeScreen": "Welcome",
        "directions": [

        {
            "from_name": "user_session_token",
            "from_type": "LOCAL_STORAGE",

            "to_name": "uploadService",
            "to_type": "SERVICE_REQUEST",

            "to_default": {
                "headers": {
                    "X-Appery-Database-Id": "{database_id}"
                },
                "parameters": {},
                "body": null
            },

            "mappings": [

            {

                "source": "$",
                "target": "$['headers']['X-Appery-Session-Token']"

            }

            ]
        }

        ]
    };

    Apperyio.mappings["Welcome_add_item_onsuccess_mapping_0"] = {
        "homeScreen": "Welcome",
        "directions": [

        {
            "from_name": "add_item",
            "from_type": "SERVICE_RESPONSE",

            "to_name": "item",
            "to_type": "LOCAL_STORAGE",

            "mappings": [

            {

                "source": "$['body']['_id']",
                "target": "$['id']"

            }

            ]
        }

        ]
    };

    Apperyio.mappings["Welcome_add_item_onbeforesend_mapping_0"] = {
        "homeScreen": "Welcome",
        "directions": [

        {
            "from_name": "user_session_token",
            "from_type": "LOCAL_STORAGE",

            "to_name": "add_item",
            "to_type": "SERVICE_REQUEST",

            "to_default": {
                "headers": {
                    "X-Appery-Database-Id": "{database_id}",
                    "Content-Type": "application/json"
                },
                "parameters": {},
                "body": null
            },

            "mappings": [

            {

                "source": "$",
                "target": "$['headers']['X-Appery-Session-Token']"

            }

            ]
        },

        {
            "from_name": "Welcome",
            "from_type": "UI",

            "to_name": "file_name",
            "to_type": "LOCAL_STORAGE",

            "mappings": [

            {

                "source": "$['file_input:text']",
                "target": "$"

            }

            ]
        },

        {
            "from_name": "tempPhotoName",
            "from_type": "LOCAL_STORAGE",

            "to_name": "add_item",
            "to_type": "SERVICE_REQUEST",

            "to_default": {
                "headers": {
                    "X-Appery-Database-Id": "{database_id}",
                    "Content-Type": "application/json"
                },
                "parameters": {},
                "body": null
            },

            "mappings": [

            {

                "source": "$",
                "target": "$['body']['ItemPictureName']"

            }

            ]
        },

        {
            "from_name": "item",
            "from_type": "LOCAL_STORAGE",

            "to_name": "add_item",
            "to_type": "SERVICE_REQUEST",

            "to_default": {
                "headers": {
                    "X-Appery-Database-Id": "{database_id}",
                    "Content-Type": "application/json"
                },
                "parameters": {},
                "body": null
            },

            "mappings": [

            {

                "source": "$['name']",
                "target": "$['body']['Item_name']"

            },

            {

                "source": "$['date_bought']",
                "target": "$['body']['Date_bought']"

            },

            {

                "source": "$['location']",
                "target": "$['body']['Location']"

            },

            {

                "source": "$['notes']",
                "target": "$['body']['Notes']"

            },

            {

                "source": "$['category']",
                "target": "$['body']['Category']"

            }

            ]
        }

        ]
    };

    Apperyio.mappings["Welcome_list_by_category_buttonlist_onsuccess_mapping_0"] = {
        "homeScreen": "Welcome",
        "directions": []
    };

    Apperyio.mappings["Welcome_list_by_category_buttonlist_onsuccess_mapping_1"] = {
        "homeScreen": "Welcome",
        "directions": [

        {
            "from_name": "items_array",
            "from_type": "LOCAL_STORAGE",

            "to_name": "Welcome",
            "to_type": "UI",

            "mappings": [

            {

                "source": "$[i]",
                "target": "$['list_by_category_list_button']"

            },

            {

                "source": "$[i]['name']",
                "target": "$['list_by_category_list_button:text']"

            }

            ]
        }

        ]
    };

    Apperyio.mappings["Welcome_list_by_category_buttonlist_onbeforesend_mapping_0"] = {
        "homeScreen": "Welcome",
        "directions": [

        {
            "from_name": "user_session_token",
            "from_type": "LOCAL_STORAGE",

            "to_name": "list_by_category_buttonlist",
            "to_type": "SERVICE_REQUEST",

            "to_default": {
                "headers": {
                    "X-Appery-Database-Id": "{database_id}"
                },
                "parameters": {},
                "body": null
            },

            "mappings": [

            {

                "source": "$",
                "target": "$['headers']['X-Appery-Session-Token']"

            }

            ]
        },

        {
            "from_name": "Welcome",
            "from_type": "UI",

            "to_name": "list_by_category_buttonlist",
            "to_type": "SERVICE_REQUEST",

            "to_default": {
                "headers": {
                    "X-Appery-Database-Id": "{database_id}"
                },
                "parameters": {},
                "body": null
            },

            "mappings": [

            {

                "source": "$['list_by_category_select_menu:selectedMenuItem']",
                "target_transformation": function(value) {
                    return '{"Category":"' + value + '"}';
                },
                "target": "$['parameters']['where']"

            }

            ]
        }

        ]
    };

    Apperyio.mappings["Welcome_restore_service_onsuccess_mapping_0"] = {
        "homeScreen": "Welcome",
        "directions": []
    };

    Apperyio.mappings["Welcome_restore_service_onbeforesend_mapping_0"] = {
        "homeScreen": "Welcome",
        "directions": [

        {
            "from_name": "user_session_token",
            "from_type": "LOCAL_STORAGE",

            "to_name": "restore_service",
            "to_type": "SERVICE_REQUEST",

            "to_default": {
                "headers": {
                    "X-Appery-Database-Id": "{database_id}",
                    "Content-Type": "application/json"
                },
                "parameters": {},
                "body": null
            },

            "mappings": [

            {

                "source": "$",
                "target": "$['headers']['X-Appery-Session-Token']"

            }

            ]
        },

        {
            "from_name": "deleted_items",
            "from_type": "LOCAL_STORAGE",

            "to_name": "restore_service",
            "to_type": "SERVICE_REQUEST",

            "to_default": {
                "headers": {
                    "X-Appery-Database-Id": "{database_id}",
                    "Content-Type": "application/json"
                },
                "parameters": {},
                "body": null
            },

            "mappings": [

            {

                "source": "$[0]['name']",
                "target": "$['body']['Item_name']"

            },

            {

                "source": "$[0]['date_bought']",
                "target": "$['body']['Date_bought']"

            },

            {

                "source": "$[0]['location']",
                "target": "$['body']['Location']"

            },

            {

                "source": "$[0]['notes']",
                "target": "$['body']['Notes']"

            },

            {

                "source": "$[0]['category']",
                "target": "$['body']['Category']"

            }

            ]
        }

        ]
    };

    Apperyio.datasources = Apperyio.datasources || {};

    window.camera_shot = Apperyio.datasources.camera_shot = new Apperyio.DataSource(CameraService, {
        "onBeforeSend": function(jqXHR) {
            Apperyio.processMappingAction(Apperyio.mappings["Welcome_camera_shot_onbeforesend_mapping_0"]);
        },
        "onComplete": function(jqXHR, textStatus) {

            Apperyio.refreshScreenFormElements("Welcome");
        },
        "onSuccess": function(data) {
            Apperyio.processMappingAction(Apperyio.mappings["Welcome_camera_shot_onsuccess_mapping_0"]);
        },
        "onError": function(jqXHR, textStatus, errorThrown) {}
    });

    window.log_out = Apperyio.datasources.log_out = new Apperyio.DataSource(WarehouseDB_logout_service, {
        "onBeforeSend": function(jqXHR) {
            Apperyio.processMappingAction(Apperyio.mappings["Welcome_log_out_onbeforesend_mapping_0"]);
        },
        "onComplete": function(jqXHR, textStatus) {

            Apperyio.refreshScreenFormElements("Welcome");
        },
        "onSuccess": function(data) {
            Apperyio.processMappingAction(Apperyio.mappings["Welcome_log_out_onsuccess_mapping_0"]);
        },
        "onError": function(jqXHR, textStatus, errorThrown) {}
    });

    window.uploadService = Apperyio.datasources.uploadService = new Apperyio.DataSource(WarehouseDB__files_upload_service, {
        "onBeforeSend": function(jqXHR) {
            Apperyio.processMappingAction(Apperyio.mappings["Welcome_uploadService_onbeforesend_mapping_0"]);
        },
        "onComplete": function(jqXHR, textStatus) {

            Apperyio.refreshScreenFormElements("Welcome");
        },
        "onSuccess": function(data) {
            Apperyio.processMappingAction(Apperyio.mappings["Welcome_uploadService_onsuccess_mapping_0"]);
            try {
                add_item.execute({});
            } catch (e) {
                console.error(e);
                hideSpinner();
            };
        },
        "onError": function(jqXHR, textStatus, errorThrown) {
            alert("Error:" + errorThrown);
        }
    });

    window.add_item = Apperyio.datasources.add_item = new Apperyio.DataSource(WarehouseDB_Goods_create_service, {
        "onBeforeSend": function(jqXHR) {
            Apperyio.processMappingAction(Apperyio.mappings["Welcome_add_item_onbeforesend_mapping_0"]);
        },
        "onComplete": function(jqXHR, textStatus) {

            Apperyio.refreshScreenFormElements("Welcome");
        },
        "onSuccess": function(data) {
            Apperyio.processMappingAction(Apperyio.mappings["Welcome_add_item_onsuccess_mapping_0"]);
        },
        "onError": function(jqXHR, textStatus, errorThrown) {}
    });

    window.list_by_category_buttonlist = Apperyio.datasources.list_by_category_buttonlist = new Apperyio.DataSource(WarehouseDB_Goods_query_service, {
        "onBeforeSend": function(jqXHR) {
            Apperyio.processMappingAction(Apperyio.mappings["Welcome_list_by_category_buttonlist_onbeforesend_mapping_0"]);
        },
        "onComplete": function(jqXHR, textStatus) {

            Apperyio.refreshScreenFormElements("Welcome");
        },
        "onSuccess": function(data) {
            Apperyio.processMappingAction(Apperyio.mappings["Welcome_list_by_category_buttonlist_onsuccess_mapping_0"]);
            Apperyio.processMappingAction(Apperyio.mappings["Welcome_list_by_category_buttonlist_onsuccess_mapping_1"]);
        },
        "onError": function(jqXHR, textStatus, errorThrown) {}
    });

    window.restore_service = Apperyio.datasources.restore_service = new Apperyio.DataSource(WarehouseDB_Goods_create_service, {
        "onBeforeSend": function(jqXHR) {
            Apperyio.processMappingAction(Apperyio.mappings["Welcome_restore_service_onbeforesend_mapping_0"]);
        },
        "onComplete": function(jqXHR, textStatus) {

            Apperyio.refreshScreenFormElements("Welcome");
        },
        "onSuccess": function(data) {
            Apperyio.processMappingAction(Apperyio.mappings["Welcome_restore_service_onsuccess_mapping_0"]);
        },
        "onError": function(jqXHR, textStatus, errorThrown) {}
    });

    Apperyio.CurrentScreen = 'Welcome';
    _.chain(Apperyio.mappings).filter(function(m) {
        return m.homeScreen === Apperyio.CurrentScreen;
    }).each(Apperyio.UIHandler.hideTemplateComponents);

    /*
     * Events and handlers
     */

    // On Load
    var Welcome_onLoad = function() {
            Welcome_elementsExtraJS();

            Welcome_deviceEvents();
            Welcome_windowEvents();
            Welcome_elementsEvents();
        };

    // screen window events


    function Welcome_windowEvents() {

        $('#Welcome').bind('pageshow orientationchange', function() {
            var _page = this;
            adjustContentHeightWithPadding(_page);
        });

    };

    // device events


    function Welcome_deviceEvents() {
        document.addEventListener("deviceready", function() {

        });
    };

    // screen elements extra js


    function Welcome_elementsExtraJS() {
        // screen (Welcome) extra code

        /* additem_block */

        $("#Welcome_additem_block .ui-collapsible-heading-toggle").attr("tabindex", "11");

        /* additem_categoryselectmenu */

        $("#Welcome_additem_categoryselectmenu").parent().find("a.ui-btn").attr("tabindex", "36");

        /* list_by_category_block */

        $("#Welcome_list_by_category_block .ui-collapsible-heading-toggle").attr("tabindex", "18");

        /* list_by_category_select_menu */

        $("#Welcome_list_by_category_select_menu").parent().find("a.ui-btn").attr("tabindex", "37");

        /* list_by_category_buttonlist */

        listView = $("#Welcome_list_by_category_buttonlist");
        theme = listView.attr("data-theme");
        if (typeof theme !== 'undefined') {
            var themeClass = "ui-btn-up-" + theme;
            listItem = $("#Welcome_list_by_category_buttonlist .ui-li-static");
            $.each(listItem, function(index, value) {
                $(this).addClass(themeClass);
            });
        }

        /* list_by_category_list_button */

        /* add_category_block */

        $("#Welcome_add_category_block .ui-collapsible-heading-toggle").attr("tabindex", "32");

        /* delete_history_list */

        listView = $("#Welcome_delete_history_list");
        theme = listView.attr("data-theme");
        if (typeof theme !== 'undefined') {
            var themeClass = "ui-btn-up-" + theme;
            listItem = $("#Welcome_delete_history_list .ui-li-static");
            $.each(listItem, function(index, value) {
                $(this).addClass(themeClass);
            });
        }

        /* delete_history_item */

        /* options_panel */
        $("#Welcome_options_panel").popup("option", "positionTo", "[dsid=mobilebutton_36]");

    };

    // screen elements handler


    function Welcome_elementsEvents() {
        $(document).on("click", "a :input,a a,a fieldset label", function(event) {
            event.stopPropagation();
        });

        $(document).off("click", '#Welcome_mobileheader [name="mobilebutton_36"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    var popupElement = Apperyio("options_panel");
                    if (popupElement.popup("option", "positionTo") === "origin") {
                        popupElement.popup("open", {
                            transition: "none",
                            positionTo: "#" + $(this).attr("id")
                        });
                    } else {
                        popupElement.popup("open", {
                            transition: "none"
                        });
                    };

                }
            },
        }, '#Welcome_mobileheader [name="mobilebutton_36"]');

        $(document).off("click", '#Welcome_mobilecontainer [name="additem_button"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    uploadMultipleFilesHelper(uploadService, Apperyio('file_input'));
                    Apperyio.processMappingAction(Apperyio.mappings["Welcome_additem_button_onclick_mapping_1"]);
                    //clears input fields
                    Apperyio("additem_itemname").val("");
                    Apperyio("additem_datebought").val("");
                    Apperyio("additem_currentlocation").val("");
                    Apperyio("additem_notes").val("");;

                }
            },
        }, '#Welcome_mobilecontainer [name="additem_button"]');

        $(document).off("click", '#Welcome_mobilecontainer [name="list_by_category_button"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    try {
                        list_by_category_buttonlist.execute({});
                    } catch (e) {
                        console.error(e);
                        hideSpinner();
                    };

                }
            },
        }, '#Welcome_mobilecontainer [name="list_by_category_button"]');

        $(document).off("click", '#Welcome_mobilecontainer [name="list_by_category_list_button"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    var clickedItemIndex = $(this).parent().index(); //Determine clicked item index
                    var currentItemArray = Apperyio.storage.items_array.get()[clickedItemIndex]; //Get the array item by determined index
                    Apperyio.storage.item.set(currentItemArray); //Set the "item" variable with value of that array item;
                    Apperyio.navigateTo('Details', {
                        reverse: false
                    });

                }
            },
        }, '#Welcome_mobilecontainer [name="list_by_category_list_button"]');

        $(document).off("click", '#Welcome_mobilecontainer [name="addcategorybutton"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    var new_category = Apperyio("addcategory_input").val();
                    var data = ["Home", "Office", "Kitchen", "Cleaning", "Garage", "School", "Electronics"];
                    data.push(new_category);
                    //alert(new_category);
                    var dropDown = $('[name=list_by_category_select_menu]');
                    var dropDown_2 = $('[name=additem_categoryselectmenu]');
                    dropDown.html('');
                    dropDown_2.html('');
                    for (i = 0; i < data.length; i++) {
                        dropDown.append('<option value="' + data[i] + i + '">' + data[i] + '</option>');
                        dropDown_2.append('<option value="' + data[i] + i + '">' + data[i] + '</option>');
                    }

                    dropDown.selectmenu('refresh');
                    dropDown_2.selectmenu('refresh');
                    //clears input field
                    Apperyio("addcategory_input").val("");;

                }
            },
        }, '#Welcome_mobilecontainer [name="addcategorybutton"]');

        $(document).off("click", '#Welcome_mobilefooter [name="navbar_exportinv_button"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    window.open("https://appery.io/bksrv/rest/1/admin/databases/export/55397ddbe4b0c3e581ee22d5/csv/database.zip", "_system");

                    ;

                }
            },
        }, '#Welcome_mobilefooter [name="navbar_exportinv_button"]');
        $(document).off("click", '#Welcome_mobilefooter [name="navbar_trash_button"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    $('[id="Welcome_trash_panel"]').panel("open");

                }
            },
        }, '#Welcome_mobilefooter [name="navbar_trash_button"]');

        $('#Welcome_trash_panel').off("panelopen").on("panelopen", function(event) {
            Apperyio.processMappingAction(Apperyio.mappings["Welcome_trash_panel_onpanelopen_mapping_0"]);
        });

        $(document).off("click", '#Welcome_trash_panel [name="delete_history_item_button"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    try {
                        restore_service.execute({});
                    } catch (e) {
                        console.error(e);
                        hideSpinner();
                    };
                    toggle('Welcome_restore_item_confirmation', 'mob', 'true');

                    arguments[0].stopPropagation();
                }
            },
        }, '#Welcome_trash_panel [name="delete_history_item_button"]');

        $(document).off("click", '#Welcome_options_panel [name="about_us_button"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    $('[id="Welcome_about_us_panel"]').panel("open");

                }
            },
        }, '#Welcome_options_panel [name="about_us_button"]');
        $(document).off("click", '#Welcome_options_panel [name="log_out_button"]').on({
            click: function(event) {
                if (!$(this).attr('disabled')) {
                    try {
                        log_out.execute({});
                    } catch (e) {
                        console.error(e);
                        hideSpinner();
                    };
                    Apperyio.navigateTo('Login', {
                        reverse: false
                    });

                }
            },
        }, '#Welcome_options_panel [name="log_out_button"]');

    };

    $(document).off("pagebeforeshow", "#Welcome").on("pagebeforeshow", "#Welcome", function(event, ui) {
        Apperyio.CurrentScreen = "Welcome";
        _.chain(Apperyio.mappings).filter(function(m) {
            return m.homeScreen === Apperyio.CurrentScreen;
        }).each(Apperyio.UIHandler.hideTemplateComponents);
    });

    Welcome_onLoad();
};

$(document).off("pagecreate", "#Welcome").on("pagecreate", "#Welcome", function(event, ui) {
    Apperyio.processSelectMenu($(this));
    Welcome_js();
});